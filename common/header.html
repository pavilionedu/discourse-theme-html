<!-- learning_step
unit:        discourse_theme_development.4
number:      6
title:       Use a plugin outlet in a script tag
description: Now that we've had a look at where theme HTML is inserted and what 
             components and plugin outlets are, let's have a look at an example
             that uses those three concepts.

             One way you can insert HTML into a plugin outlet is by using a 
             special ``<script>`` tag anywhere in the Discourse HTML. Have a look 
             at the script tag below. If you insert a script tag with the ``type`` 
             "text/x-handlebars" and with the ``data-template-name`` set according
             to the scheme

             ```
             /connectors/<plugin_outlet_name>/<anything>
             
             ```

             the code enclosed in the tag will be interpreted as a handlebars 
             template to be inserted in the ``plugin_outlet_name`` plugin outlet.
             As this is a ``<script>`` tag, you could also add this code in the 
             ``head_tag.html`` or ``body_tag.html`` and it would have the same effect.

             Have a look at the plugin outlet in the example below. If you go
             into a topic on the Theme Creator you'll see what HTML has been 
             added. Where do you think that outlet is in the ``discourse`` 
             templates? Rather than just doing a search for the plugin outlet 
             name (which is what you normally should do), start off by looking 
             in the ``topic.hbs`` template we looked at in step 4. 

             You won't find this plugin outlet in ``topic.hbs``, but see if you
             can find what component it might be in by reading that template, 
             then finding the template for that component. When you're developing 
             a theme being able to read a template file and then find the templates 
             for the components it uses is an important skill. 

             Finally, see if you can find the template for the component that's 
             making the button appear. Don't worry about how that works for now,
             instead do a search in the ``app/assets/javascripts/discourse/app/templates``
             folder for other places where that button template is used in 
             Discourse. 

             See if you can match up other examples of where the component is 
             used to buttons you can see in the Discourse UI. Once you've
             looked at a few examples, see if you can do the following just
             based on those other examples and some things we covered in the 
             previous units:

             - Add an icon to the button
             - Disable the button
             - Make the button red
             - Make a loading spinner appear on the button

             You'll need to make some educated guesses based off what your search
             for the component in the templates folder turned up.
-->
<script type="text/x-handlebars" data-template-name="/connectors/topic-category/more-assignments">
  {{d-button href="/c/school/theme-assignments" translatedLabel="Find more theme assignments"}}
</script>
<!-- /learning_step -->

<!-- learning_step
unit:        discourse_theme_development.4
number:      7
title:       Override a template in a script tag
description: The other aspect of working with templates that you'll often use in
             a theme, is overriding an existing template in Discourse. You can
             also do this using a special ``<script>`` tag anyhere in the HTML.

             The code below is overriding the template for the component we used
             in the previous step. First, take a look at the ``data-template-name``
             attribute. When overriding a template, we need to use the following 
             pattern:

             - ``/components/<component_name>`` if it's a component template
             - ``<template_name>`` if it's a page template (e.g. "application", or "topic")

             When you override a template, your code gets applied instead of the 
             ``discourse`` template. Be careful with this. If you do actually
             override the ``d-button`` template you're changing the HTML for 
             nearly every button you see in Discourse. But let's give that a go
             anyway. See if you can change the template override below so that
             the icon you added to the button in the previous step appears to the 
             right of the text in the button.
-->
<script type="text/x-handlebars" data-template-name="/components/d-button">
  {{#if icon}}
    {{#if isLoading}}
      {{~d-icon "spinner" class="loading-icon"~}}
    {{else}}
      {{~d-icon icon~}}
    {{/if}}
  {{else}}
    {{#if isLoading}}
      {{~d-icon "spinner" class="loading-icon"~}}
    {{/if}}
  {{/if}}

  {{~#if computedLabel~}}
    <span class="d-button-label">{{html-safe computedLabel}}{{#if ellipsis}}&hellip;{{/if}}</span>
  {{~/if~}}

  {{yield}}
</script>
<!-- /learning_step -->

<!-- learning_step
unit:        discourse_theme_development.4
number:      8
title:       Wrapping HTML in a component
description: Before we move on, take another look at the ``{{yield}}`` block at 
             the bottom of the d-button template. What do you think that does? 
             To get an idea, try changing our ``d-button`` component in the 
             step 6 to the following:

             ```
             {{#d-button}}
               <a href="/c/school/theme-assignments" style="color: black">Find more theme assignments</a>
             {{/d-button}}
             ```

             When you refresh the page in the theme creator the button will look
             exactly the same as before! But it's actually a bit different. How
             is it different? Inspect the HTML in your browser to get a sense 
             of what changes between the two approaches, and what {{yield}} 
             might be doing there.

             Once you've figured that out head over to ``javascripts/discourse/connectors/topic-category/more-assignments.hbs``
             in our theme. We're not quite finished with our poor button.
-->
<!-- /learning_step -->
